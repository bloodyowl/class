<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>Class.js Tests (QUnit)</title>
	<link rel="stylesheet" href="qunit/qunit.css">
	<script src="qunit/qunit.js"></script>
	<script src="../class.js"></script>
	<script>
  	test("Class", function(){
  	
  	 ok(typeof Class({initialize:function(){}}) == "function", 'Class outputs a function')
  	 
  	 var Foo = Class({
  	   initialize : function(foo, bar){
  	     this.foo = foo
  	     this.bar = bar
  	     return this
  	   },
  	   addBaz : function(baz){
  	     this.baz = baz
  	     return this
  	   }
  	 })
  	 
  	 var Baz = Class(Foo, {
  	   addTest : function(test){
  	     this.test = test
  	     return this
  	   }
  	 })
  	 
  	 var Bar = Class(Baz, {
    	 initialize : function(){},
  	   addTest : function(test){
  	     this.test = test
  	     return this
  	   }
  	 })
  	 
  	 ok(new Baz() instanceof Baz, 'new class is instanceof constructor')
  	 ok(new Baz() instanceof Foo, 'new class is instanceof parent class')
  	 ok(new Bar() instanceof Foo, 'new class is instanceof ancestor class')
     ok(new Bar() instanceof Baz, 'sub class is instanceof parent class')
     ok((typeof new Bar().addBaz) == "function", 'prototype is passed')
     ok((typeof new Baz().addTest) == "function", 'prototype is passed 2')
  	 ok(new Baz().parentClass == Foo.prototype, 'parentClass is correcty set')
  	 ok(Foo.prototype.childClasses[0] == Baz.prototype, 'childClasses are correctly set')
  	})
	</script>
</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture">test markup</div>
</body>
</html>
